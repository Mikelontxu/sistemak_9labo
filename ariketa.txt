1- Clone github eta aldatu fitxategiak (app.py eta Dockerfile)
2- Sortu Dockerhub irudia
3- Sortu Redis instantzia Memorystore zerbitzuarekin (activar API):
• Tipo: Básico
• Region: misma que abajo
• Capacidad: 1 GB
• Red: “default”
• Tipo de conexión: “Direct peering” / Intercambio de tráfico directo.
4- Sortu VPC network barruan Serverless VPC access (activar API):
• Region: misma que arriba
• Red: “default”
• Subred: Utilizar el rango de IPs 10.10.0.0/28
5- Cloud Run --> Services --> Create Service
• Imagen: la que se ha creado al inicio en DockerHub (docker.io/mikelontxu/as-laboratorio9-web:latest)
• Autenticación: permitir invocaciones no autenticadas.
• Puerto del contenedor: 80
• Crear una variable de entorno llamada REDISHOST, donde se indique la IP de la instancia Redis. Esta IP
la podéis encontrar en los detalles de la instancia Redis.
• En el apartado de conectividad, indicar que se conecte a una VPC para el tráfico saliente y que use el
conector creado en el paso anterior.
